{{ 'icons.css' | asset_url | stylesheet_tag }}

{%  style  %} 
  .main-container--icons-section {
    background-color: {{section.settings.background-color}}
  }
{% endstyle %}

<div class="main-container--icons-section">
  {% for block in section.blocks %}
    {% assign icon_title = block.settings.icon-title | downcase %}
    <div class="icon-container--icons-section">
      {% for link in section.settings.icon-menu.links %}
        {% if link.title == icon_title %}
          <a href="{{ link.url }}" class="icon-link--icons-section" style="color: {{ section.settings.font-color }}">
            {% render 'icons-for-icons-section' icon: block.settings.icon-selection icon-color: section.settings.icon-color %}
            <h3 class="icon-header--icons-section" style="color: {{ section.settings.font-color }}">{{ block.settings.icon-title }}</h3>
          </a>
        {% endif %}
      {% endfor %}
    </div>
  {% endfor %}
</div>

{% schema %}
  {
    "name": "Icons",
    "tag": "section",
    "class": "icons",
    "settings": [
      {
        "type": "link_list",
        "id": "icon-menu",
        "label": "Icon Menu"
      },
      {
        "type": "color",
        "id": "background-color",
        "label": "background color"
      },
      {
        "type": "color",
        "id": "icon-color",
        "label": "icon color"
      },
      {
        "type": "color",
        "id": "font-color",
        "label": "font color"
      }
    ],
    "blocks": [
      {
        "name": "icon",
        "type": "icon",
        "settings": [
          {
            "type": "select",
            "id": "icon-selection",
            "label": "select an icon",
            "options": [
              {
                "value": "message",
                "label": "message"
              },
              {
                "value": "truck",
                "label": "truck"
              },
              {
                "value": "shop",
                "label": "shop"
              },
              {
                "value": "soap",
                "label": "soap"
              },
              {
                "value": "cleaning",
                "label": "cleaning"
              },
              {
                "value": "beauty",
                "label": "beauty"
              }
            ],
            "default": "soap"
          },
          {
            "type": "text",
            "id": "icon-title",
            "label": "Title for icon"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Icons"
      }
    ]
  }
{% endschema %}
